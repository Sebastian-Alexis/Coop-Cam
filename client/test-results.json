
> client@0.0.0 test
> vitest --reporter=json

{"numTotalTestSuites":15,"numPassedTestSuites":11,"numFailedTestSuites":4,"numPendingTestSuites":0,"numTotalTests":27,"numPassedTests":25,"numFailedTests":2,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1751907583103,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["App Component","Initial Render"],"fullName":"App Component Initial Render should render main heading","status":"passed","title":"should render main heading","duration":32.06442999999945,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Initial Render"],"fullName":"App Component Initial Render should render stream image with correct src","status":"passed","title":"should render stream image with correct src","duration":5.011654000000817,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Initial Render"],"fullName":"App Component Initial Render should render flashlight button","status":"passed","title":"should render flashlight button","duration":8.877166000000216,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Initial Render"],"fullName":"App Component Initial Render should render viewer stats section","status":"passed","title":"should render viewer stats section","duration":3.1172389999992447,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Stats Polling"],"fullName":"App Component Stats Polling should fetch and display stats on mount","status":"passed","title":"should fetch and display stats on mount","duration":21.009816999999202,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Stats Polling"],"fullName":"App Component Stats Polling should poll stats every 5 seconds","status":"passed","title":"should poll stats every 5 seconds","duration":41.086968999999954,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Stats Polling"],"fullName":"App Component Stats Polling should handle stats fetch errors gracefully","status":"passed","title":"should handle stats fetch errors gracefully","duration":28.500390000000152,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Flashlight Toggle"],"fullName":"App Component Flashlight Toggle should toggle flashlight on button click","status":"passed","title":"should toggle flashlight on button click","duration":61.66802999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Flashlight Toggle"],"fullName":"App Component Flashlight Toggle should handle flashlight toggle errors","status":"passed","title":"should handle flashlight toggle errors","duration":41.5129509999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Flashlight Toggle"],"fullName":"App Component Flashlight Toggle should prevent multiple rapid clicks","status":"passed","title":"should prevent multiple rapid clicks","duration":80.4638329999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Status Messages"],"fullName":"App Component Status Messages should display success messages with correct styling","status":"passed","title":"should display success messages with correct styling","duration":39.98398400000042,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Status Messages"],"fullName":"App Component Status Messages should display error messages with correct styling","status":"passed","title":"should display error messages with correct styling","duration":40.866291000000274,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Status Messages"],"fullName":"App Component Status Messages should auto-dismiss messages after 3 seconds","status":"passed","title":"should auto-dismiss messages after 3 seconds","duration":61.48775399999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Accessibility"],"fullName":"App Component Accessibility should have proper ARIA labels","status":"passed","title":"should have proper ARIA labels","duration":3.097294000000147,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Accessibility"],"fullName":"App Component Accessibility should support keyboard navigation","status":"passed","title":"should support keyboard navigation","duration":60.51058399999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Accessibility"],"fullName":"App Component Accessibility should have proper heading hierarchy","status":"passed","title":"should have proper heading hierarchy","duration":2.842117000000144,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Layout and Styling"],"fullName":"App Component Layout and Styling should render with proper container structure","status":"passed","title":"should render with proper container structure","duration":2.0603599999994913,"failureMessages":[],"meta":{}},{"ancestorTitles":["App Component","Layout and Styling"],"fullName":"App Component Layout and Styling should render cards with proper styling","status":"passed","title":"should render cards with proper styling","duration":1.92062900000019,"failureMessages":[],"meta":{}}],"startTime":1751907590519,"endTime":1751907591058.9207,"status":"passed","message":"","name":"/mnt/c/Users/sebas/Programming/Coop-Cam-1/client/src/__tests__/App.test.tsx"},{"assertionResults":[{"ancestorTitles":["API Integration Tests","Complete User Flow"],"fullName":"API Integration Tests Complete User Flow should load app, fetch stats, and toggle flashlight","status":"passed","title":"should load app, fetch stats, and toggle flashlight","duration":203.10466199999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration Tests","Network Error Scenarios"],"fullName":"API Integration Tests Network Error Scenarios should handle complete network failure gracefully","status":"passed","title":"should handle complete network failure gracefully","duration":65.68408399999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration Tests","Network Error Scenarios"],"fullName":"API Integration Tests Network Error Scenarios should handle slow network responses","status":"failed","title":"should handle slow network responses","duration":1017.8249759999999,"failureMessages":["Error: Unable to find an element with the text: 3. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\nIgnored nodes: comments, script, style\n\u001b[36m<body>\u001b[39m\n  \u001b[36m<div>\u001b[39m\n    \u001b[36m<div\u001b[39m\n      \u001b[33mclass\u001b[39m=\u001b[32m\"container mx-auto p-4\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<h1\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"text-3xl font-bold mb-4\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[0mCoop Cam üêî\u001b[0m\n      \u001b[36m</h1>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"card bg-base-100 shadow-xl\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"card-body\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<h2\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"card-title\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLive Feed\u001b[0m\n          \u001b[36m</h2>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<img\u001b[39m\n              \u001b[33malt\u001b[39m=\u001b[32m\"Live camera feed\"\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full max-h-96 object-contain rounded-lg\"\u001b[39m\n              \u001b[33msrc\u001b[39m=\u001b[32m\"/api/stream\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex justify-between items-center mt-4\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"btn btn-primary\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-lg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0müí°\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[0m Toggle Flashlight\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"stat bg-base-300 rounded-box p-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"stat-title text-xs\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mCurrent Viewers\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"stat-value text-lg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m0\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</div>\u001b[39m\n  \u001b[36m</div>\u001b[39m\n\u001b[36m</body>\u001b[39m\n    at waitForWrapper (/mnt/c/Users/sebas/Programming/Coop-Cam-1/client/node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n    at /mnt/c/Users/sebas/Programming/Coop-Cam-1/client/src/__tests__/api-integration.test.tsx:134:13\n    at file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["API Integration Tests","Network Error Scenarios"],"fullName":"API Integration Tests Network Error Scenarios should recover from temporary network failures","status":"passed","title":"should recover from temporary network failures","duration":61.283730000001015,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration Tests","State Synchronization"],"fullName":"API Integration Tests State Synchronization should update UI based on server state changes","status":"passed","title":"should update UI based on server state changes","duration":61.452142000000094,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration Tests","Edge Cases"],"fullName":"API Integration Tests Edge Cases should handle malformed API responses","status":"passed","title":"should handle malformed API responses","duration":20.165439000000333,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration Tests","Edge Cases"],"fullName":"API Integration Tests Edge Cases should handle server errors with proper status codes","status":"passed","title":"should handle server errors with proper status codes","duration":60.65263099999902,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration Tests","Edge Cases"],"fullName":"API Integration Tests Edge Cases should handle rapid user interactions","status":"failed","title":"should handle rapid user interactions","duration":1070.6435509999992,"failureMessages":["Error: Unable to find role=\"alert\"\n\nIgnored nodes: comments, script, style\n\u001b[36m<body>\u001b[39m\n  \u001b[36m<div>\u001b[39m\n    \u001b[36m<div\u001b[39m\n      \u001b[33mclass\u001b[39m=\u001b[32m\"container mx-auto p-4\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<h1\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"text-3xl font-bold mb-4\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[0mCoop Cam üêî\u001b[0m\n      \u001b[36m</h1>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"card bg-base-100 shadow-xl\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"card-body\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<h2\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"card-title\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLive Feed\u001b[0m\n          \u001b[36m</h2>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<img\u001b[39m\n              \u001b[33malt\u001b[39m=\u001b[32m\"Live camera feed\"\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full max-h-96 object-contain rounded-lg\"\u001b[39m\n              \u001b[33msrc\u001b[39m=\u001b[32m\"/api/stream\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex justify-between items-center mt-4\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"btn btn-primary\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-lg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0müí°\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[0m Toggle Flashlight\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"stat bg-base-300 rounded-box p-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"stat-title text-xs\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mCurrent Viewers\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"stat-value text-lg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"alert alert-success mt-4\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<span>\u001b[39m\n              \u001b[0mCall 3\u001b[0m\n            \u001b[36m</span>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</div>\u001b[39m\n  \u001b[36m</div>\u001b[39m\n\u001b[36m</body>\u001b[39m\n    at waitForWrapper (/mnt/c/Users/sebas/Programming/Coop-Cam-1/client/node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n    at /mnt/c/Users/sebas/Programming/Coop-Cam-1/client/src/__tests__/api-integration.test.tsx:334:13\n    at file:///mnt/c/Users/sebas/Programming/Coop-Cam-1/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["API Integration Tests","Performance"],"fullName":"API Integration Tests Performance should cleanup timers on unmount","status":"passed","title":"should cleanup timers on unmount","duration":21.358141999999134,"failureMessages":[],"meta":{}}],"startTime":1751907590518,"endTime":1751907593101.3582,"status":"failed","message":"","name":"/mnt/c/Users/sebas/Programming/Coop-Cam-1/client/src/__tests__/api-integration.test.tsx"}]}
